---
config:
  theme: neutral
---

graph TD
  Root["digibank/"]

  Root --> Compose["docker-compose.yml"]
  Root --> DockerfileRoot["Dockerfile (Java backend build)"]
  Root --> Readme["README.md"]
  Root --> Docs["docs/"]
  Root --> Txt["txt/ (export çıktıları - bind mount)"]

  Root --> Gui["gui/ (Flask GUI)"]
  Gui --> GuiApp["app.py"]
  Gui --> GuiTemplates["templates/"]
  Gui --> GuiStatic["static/"]
  Gui --> GuiDockerfile["gui/Dockerfile"]
  Gui --> GuiReq["gui/requirements.txt"]

  Root --> Src["src/"]
  Src --> JavaRoot["com/digibank/"]

  JavaRoot --> Main["Main.java"]
  JavaRoot --> ApiPkg["api/"]
  ApiPkg --> ApiServer["ApiServer.java"]

  JavaRoot --> ServicePkg["service/"]
  ServicePkg --> AuthSvc["AuthenticationService.java"]
  ServicePkg --> UserRepo["UserRepository.java (DB+cache)"]
  ServicePkg --> TxRepo["TransactionRepository.java (DB+file fallback)"]
  ServicePkg --> PaySvc["PaymentService.java"]
  ServicePkg --> Predict["PredictiveAnalyticsService.java"]
  ServicePkg --> Home["HomeDeviceController.java"]
  ServicePkg --> Infra["InfrastructureController.java"]
  ServicePkg --> City["CityController.java"]

  JavaRoot --> IntegrationPkg["integration/"]
  IntegrationPkg --> SmartGov["SmartGovernmentService.java"]

  JavaRoot --> ModelPkg["model/"]
  ModelPkg --> UserModel["User.java"]
  ModelPkg --> TxModel["Transaction.java"]
  ModelPkg --> GovPkg["gov/"]
  GovPkg --> GovBill["GovernmentBill.java"]

  JavaRoot --> Patterns["patterns/"]
  Patterns --> Adapter["adapter/"]
  Patterns --> Strategy["strategy/"]
  Patterns --> Observer["observer/"]
  Patterns --> Command["command/"]
  Patterns --> Template["template/"]
  Patterns --> Singleton["singleton/"]

  Main --> ApiServer
  Main --> City
  ApiServer --> AuthSvc
  ApiServer --> UserRepo
  ApiServer --> TxRepo
  ApiServer --> PaySvc
  ApiServer --> SmartGov
  ApiServer --> Predict
  ApiServer --> Home

  PaySvc --> Strategy
  PaySvc --> Adapter
  City --> Command
  City --> Observer
  City --> Template
