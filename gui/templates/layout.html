<!DOCTYPE html>
<html lang="tr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>DigiBank | Akıllı Şehir Bankacılığı</title>
    <link
      rel="stylesheet"
      href="{{ url_for('static', filename='css/style.css') }}"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap"
      rel="stylesheet"
    />
  </head>
  <body>
    <header>
      <nav class="container">
        <div class="logo">DigiBank Beykent</div>
        <div class="nav-links">
          <div class="dropdown">
            <button
              class="drop-trigger {{ 'active' if request.path == '/' or request.path.startswith('/transfer') or request.path.startswith('/cards') or request.path.startswith('/fx') or request.path.startswith('/users') or request.path.startswith('/transactions') else '' }}"
              type="button"
            >
              Digibank
            </button>
            <div class="dropdown-menu">
              <a
                href="{{ url_for('dashboard') }}"
                class="{{ 'active' if request.path == '/' else '' }}"
                >Panel</a
              >
              <a
                href="{{ url_for('transfer') }}"
                class="{{ 'active' if request.path.startswith('/transfer') else '' }}"
                >Para Gönder</a
              >
              <a
                href="{{ url_for('cards') }}"
                class="{{ 'active' if request.path.startswith('/cards') else '' }}"
                >Kartlar</a
              >
              <a
                href="{{ url_for('fx_swap') }}"
                class="{{ 'active' if request.path.startswith('/fx') else '' }}"
                >Döviz / Swap</a
              >

              <a
                href="{{ url_for('users') }}"
                class="{{ 'active' if request.path.startswith('/users') else '' }}"
                >Kullanıcılar</a
              >
              <a
                href="{{ url_for('transactions') }}"
                class="{{ 'active' if request.path.startswith('/transactions') else '' }}"
                >İşlem Kayıtları</a
              >
            </div>
          </div>

          <div class="dropdown">
            <button
              class="drop-trigger {{ 'active' if request.path.startswith('/smart-gov') or request.path.startswith('/home-control') else '' }}"
              type="button"
            >
              Akıllı Şehir
            </button>
            <div class="dropdown-menu">
              <a
                href="{{ url_for('smart_gov') }}"
                class="{{ 'active' if request.path == '/smart-gov' else '' }}"
                >Akıllı Devlet</a
              >
              <a
                href="{{ url_for('home_control') }}"
                class="{{ 'active' if request.path.startswith('/home-control') else '' }}"
                >Akıllı Ev</a
              >
            </div>
          </div>

          <div class="dropdown">
            <button
              class="drop-trigger {{ 'active' if request.path.startswith('/settings') or request.path.startswith('/performance') else '' }}"
              type="button"
            >
              Ayarlar
            </button>
            <div class="dropdown-menu single">
              <a
                href="{{ url_for('settings') }}"
                class="{{ 'active' if request.path.startswith('/settings') else '' }}"
                >Genel Ayarlar</a
              >
              <a
                href="{{ url_for('performance') }}"
                class="{{ 'active' if request.path.startswith('/performance') else '' }}"
                >Performans</a
              >
            </div>
          </div>
        </div>
        <div class="user-profile">
          <span
            >{{ (user.username if user is defined else session.get('username'))
            or 'Misafir' }}</span
          >
          {% if session.get('logged_in') %}
          <a href="{{ url_for('logout') }}" class="logout-link">Çıkış</a>
          {% else %}
          <a href="{{ url_for('login') }}" class="logout-link">Giriş</a>
          {% endif %}
        </div>
      </nav>
    </header>

    <main class="container">
      {% with messages = get_flashed_messages(with_categories=true) %} {% if
      messages %}
      <div class="flash-messages">
        {% for category, message in messages %}
        <div class="alert alert-{{ category }}">{{ message }}</div>
        {% endfor %}
      </div>
      {% endif %} {% endwith %} {% block content %}{% endblock %}
    </main>
  </body>
</html>
