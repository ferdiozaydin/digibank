---
config:
  theme: neutral
---
graph TD
    subgraph "DigiBank & SmartCity Project Structure"
        Root["/digibank-root"]
        
        subgraph "src (Java Backend)"
            MainApp["com.digibank.Main"]
            
            subgraph "com.digibank.api"
                ApiSrv["ApiServer.java (HttpServer)"]
                Handlers["Handlers (Login, Bill, Pay, Admin...)"]
            end
            
            subgraph "com.digibank.service"
                AuthSvc["AuthenticationService"]
                PaySvc["PaymentService"]
                CitySvc["CityController"]
                SensorSvc["SensorSystem"]
                Repos["TxRepository / UserRepository"]
            end
            
            subgraph "com.digibank.patterns"
                Cmd["command/ (Command Pattern)"]
                Obs["observer/ (Observer Pattern)"]
                Strat["strategy/ (Strategy Pattern)"]
                Adpt["adapter/ (Adapter Pattern)"]
                Sing["singleton/ (AuditLogger)"]
            end
            
            subgraph "com.digibank.model"
                UserClass["User"]
                TxClass["Transaction"]
                BillClass["GovernmentBill"]
            end
        end

        subgraph "gui (Python Frontend)"
            AppPy["app.py (Flask)"]
            Tmpl["templates/ (HTML)"]
            Static["static/ (CSS/JS)"]
        end
        
        subgraph "docs & output"
             Docs["docs/ (.md, .mmd)"]
             Txt["txt/ (Exports)"]
             Dk["Dockerfile"]
        end

    end

    Root --> src
    Root --> gui
    Root --> docs
    
    src --> MainApp
    MainApp --> ApiSrv
    MainApp --> CitySvc
    
    ApiSrv --> Handlers
    Handlers --> AuthSvc
    Handlers --> PaySvc
    
    PaySvc --> Strat
    PaySvc --> Adpt
    CitySvc --> Cmd
    CitySvc --> Obs
